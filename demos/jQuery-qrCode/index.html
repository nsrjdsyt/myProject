<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>该二维码支持中文和LOGO</title>



</head>

<body>
    <center>
        <h2>二维码中间带小图标</h2>
        <div id="qrcodeWithPic"></div>
        <hr />
        <h2>
            二维码不带小图标，浏览器支持canvas 使用canvas渲染，否则使用table（chrome 在使用table渲染时 二维码长宽变形，可能扫不出来）
        </h2>
        <div id="qrcode"></div>
    </center>

    <script src="http://lib.sinaapp.com/js/jquery/1.9.1/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="./utf.js"></script>
    <script type="text/javascript" src="./jquery.qrcode.js"></script>

    <script type="text/javascript">
        $(document).ready(function() {
            //二维码中间带小图标
            $("#qrcodeWithPic").qrcode({
                render: "canvas", //设置渲染方式，有table和canvas，使用canvas方式渲染性能相对来说比较好,但使用table 中间小图标加不上去
                text: "这是修改了官文的js文件，此时生成的二维码支持中文和LOGO",
                width: "200",
                height: "200",
                background: "#ffffff", //二维码的后景色
                foreground: "#000000", //二维码的前景色
                src: './photo.png' //二维码中间的图片
            });

            //二维码不带小图标
            var renderType = "";
            renderType = canvasSupport() ? "canvas" : "table";

            $("#qrcode").qrcode({
                width: 120,
                height: 120,
                render: renderType,
                text: "i am text"
            });

            //浏览器检测，判断是否支持canvas
            function canvasSupport() {
                return !!document.createElement('canvas').getContext;
            }
        });
    </script>
</body>

</html>
